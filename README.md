## STUN/TURN server (coturn in Docker)

Этот репозиторий поднимает STUN и TURN сервер на базе `coturn` в Docker.

### Конфигурация

1. Скопируйте пример файла окружения:

```bash
cp .env.example .env
```

2. Отредактируйте `.env` под свои нужды:

- `EXTERNAL_IP` — **публичный IP** сервера, по которому клиенты будут достигать TURN (обычно внешний IP машины или балансировщика).
- `TURN_REALM` — логический "realm" для аутентификации (например, ваш домен).
- `TURN_USER` — логин для TURN.
- `TURN_PASSWORD` — пароль для TURN.

Пример (`.env`):

```env
EXTERNAL_IP=203.0.113.10
TURN_REALM=example.com
TURN_USER=demo
TURN_PASSWORD=demo123
```

### Запуск

Поднять сервер:

```bash
make up
```

Остановить и удалить контейнеры:

```bash
make down
```

Перезапуск:

```bash
make restart
```

Посмотреть статус контейнеров:

```bash
make ps
```

Просмотр логов:

```bash
make logs
```

### Порты

По умолчанию проброшены:

- `3478/udp`, `3478/tcp` — STUN/TURN.
- `5349/udp`, `5349/tcp` — STUN/TURN over TLS (можно дополнительно настроить сертификаты в конфиге coturn при необходимости).
- `49160-49200/udp` — диапазон релейных портов TURN.

Убедитесь, что эти порты открыты в фаерволе/безопасности облака.

